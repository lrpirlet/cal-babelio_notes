<html><body> <h1>The noosfere_util plugin</h1><p>This plugin should complement cal-noosfere.</p><p></p><h2>Problems in noosfere:</h2><ol><li>Cal-noosfere cannot clear some metadata field.<br/>Example: if a metadata source download from anywhere has set the series to &quot;something&quot;, and the noosfere metadata source finds an empty series, then cal-noosfere will NOT clear the series field.</li>
		<li>A book can exist in multiple volumes.<br/>Each of them may differ because of a reissue by the same or a different publisher. It may even be part of one or more anthologies with possibly a different author and/or title and/or ISBN. I made a choice but it may NOT be the best one. The solution is to manually go to the book page and choose the best volume by setting the nsfr_id, then restarting the cal-noosfere metadata source plugin.</li>
		<li>Cal-noosfere does not allow you to modify the custom column.<br/>However, it does allow the editor field to be overridden with the collection and the collection index. It then becomes necessary to split this information into custom columns.</li></ol><p>Thus, select a few relevant books in calibre whose volume (edition) is displayed incorrectly.</p><ul><li>Use noosfere_util to delete their metadata, except for the title, authors and identifiers such as ISBN, and to add the nsfr_id of the volume of your choice.</li>
		<li>Perform a metadata update to populate calibre with the information associated with your choice.</li>
		<li>Select the relevant books with the publisher field overloaded. Use noosfere_util to set up the custom editor and custom editor collection and the custom collection set.</li></ul><h2>How to use</h2><h3>Clear excess metadata</h3><ul><li>Select a book or series of books in calibre.</li><li>Call noosfere_util by clicking the icon.</li><li>In the drop-down menu activate &quot;Delete excess metadata&quot;.</li></ul><p>The selected lines have lost all information related to the fields Publisher, Series, Languages, date of modification, nsfr_id and the custom fields containing the collection defined by the publisher and its serial number. (#collection and #coll_srl as defined by me)</p><h3>Web browser for volume selection</h3><ul><li>Select a book or series in calibre.</li><li>Call noosfere_util by clicking on the icon.</li><li>In the drop-down menu activate &quot;Web browser for volume selection&quot;.</li><li>A web browser appears and presents the advanced search page of noosfere</li><li>Using the browser and the dedicated buttons, navigate to the desired title edition</li><li>Exit the browser by using the blue button on the top left to save the choice</li><li>In calibre, all processed lines are selected for metadata download</li></ul><p>The selected lines are marked and selected. You just have to launch the data download to get the metadata corresponding to the choice. In fact, the selected lines have lost all the information related to the Publisher, Series, Languages, Date Modified, ISBN fields and the custom fields containing the collection defined by the publisher and its serial number. (#collection and #coll_srl as defined by me). The nsfr_id is defined, it is used as a guide to the choice.</p><p></p><pre>I use this browser as follows:
I activate one of the ISBN, Authors or title.
I activate &quot;Send&quot;, I observe the title zone...
When the corresponding page is displayed, I search, if necessary, for the title or the author...
I navigate to the edition I want...
I validate with the exit arrow if I am happy...
 or I exit by esc to cancel the change on this line...
 or I close the window with the X sign to drop this line and all the other selected lines.
In calibre, I start the metadata upload, select noosfere DB as the only metadata source and start the process...</pre><p>Note:</p><ul><li>It is assumed that noosfere DB is installed</li><li>The browser is programmed to be on top of calibre, access to it is possible only after closing all instances of this browser. To exit in panic mode&nbsp;and cancel all the following lines, act on the x button of the window.</li><li>Each button, each box is commented in bubbles or in the title (observe this one when loading a page), some indications may show in the status area at the bottom of the page.</li>
</ul><h4>Web browser, a snapshot...</h4><figure>
    <img alt="noosfere util web 075" title="noosfere util web 075" src="file:./noosfere_util_web_075.png"/>
  </figure>

	<ul><li>Title and window's control zone<ul><li>title: contains the name of the web page, or shows the progress of the page loading</li><li>minus sign: minimizes the window (warning, does NOT give access to calibre)</li><li>square sign: enlarges the window</li><li>X sign: stops the processing of the line and all following lines</li></ul></li><li>Navigation bar:<ul><li>left arrow: goes back to the previous page (if it exists)</li><li>right arrow: go to the next page (if available)</li><li>circular arrows: reload the page</li><li>home: go to the advanced search page of noosfere</li><li>X: stops loading</li><li>magnifying glass: invokes the search (ctrl-f is functional)</li><li>address box, editable, you can go anywhere... (attention, security is not guaranteed, this web browser has NO INTEGRATED SECURITY!!!)</li><li>esc: stops processing the line and goes to the next line</li><li>exit arrow: saves the nsfr_id and goes to the next line</li></ul></li>
		<li>Central part: content of the page whose url is in the address box... here the advanced search page of noosfere</li><li>Three information bars area:<ul><li>ISBN button: copies the content of the ISBN box into the noosfere search box, checks the &quot;Books&quot; box, as long as the page address is https://www.noosfere.org/livres/noosearch.asp</li><li>ISBN box: contains the ISBN as defined in calibre before processing</li><li>Authors button: copy the content of the Authors box into the noosfere search box, check the &quot;Authors&quot; box, as long as the page address is https://www.noosfere.org/livres/noosearch.asp</li><li>Authors box: contains the Author(s) as defined in calibre before processing</li><li>Title button: copies the content of the Title box into the noosfere search box, checks the &quot;Books&quot; box, as long as the page address is https://www.noosfere.org/livres/noosearch.asp</li><li>Title box: contains the Title as defined in calibre before processing</li></ul></li><li>Search bar, activated by the magnifying glass or &lt;ctrl&gt;f:<ul><li>box that contains the text to search for (example: I copy the title and paste it here). The search starts when the text changes</li><li>Next: search for a next occurrence</li><li>Previous: search for a previous occurrence</li><li>Done: clears the search box and closes the search bar</li></ul></li><li>&nbsp;status field:<ul><li>displays a message if no hits exist.</li><li>displays a progress bar and a percentage to monitor the download (attention, the title is more accurate!... no I can't 'fix' that)</li></ul></li></ul><h3>Distributes the information (which overloads the editor field)</h3><p>As long as the noosfere DB plugin has been used to download the metadata with the option to override the editor field, the selected lines will be processed. As a result, the editor field will contain the editor, the editor's collection field (default collection) will be populated and the serial code field in the editor's collection (default coll_srl) will contain its value.</p><p>Note that if the collection and/or coll_srl does not exist in the editor field, the procedure should work. This is the procedure that in noosfere DB is manual.</p><h3>Customize extension</h3><p>The only function of &quot;Customize extension&quot; is to create and/or choose a suitable column...</p><p>The first time you use this noosfere_util, you will probably have to create 2 columns and choose the columns. This&nbsp;operation implies a restart of calibre.</p><h2>In case of bug</h2><p>noosfere_util creates logs in debug mode... and leaves two files in the temporary directory. It is important to attach this information to any error report.</p><p>Run calibre with <i>calibre-debug -g </i> in a terminal. Reproduce the problem, copy and paste the contents of the terminal into a text file... before restarting calibre, copy all the files in the temporary directory (linux: <b>/tmp</b>; windows:<b> %temp%</b>) that start with nsfr_utl. Submit these 3 files with a description of the problem.</p><h3>Tips</h3><p>Do not use noosfere DB together with other metadata sources for a final result. In practice, the result may be different from noosfere. Indeed, calibre can use several metadata sources for &quot;a better result&quot;. ). In fact, noosfere is correct.</p><p>Personally, I start by searching a title with as many metadata sources as possible. This gives me several IDs, ratings, various tags... but also invented series, or book titles that are in fact a series (example: <i>Celle qui sait</i> by <i>Laurence Suhner -isbn:9791036000911, amazon_fr:B096HPZLTQ, google:hIzSzgEACAAJ, nsfr_id:vl$2146624523-</i> see  <a href="https://www.l-atalante.com/catalogue/La%20Dentelle%20du%20Cygne/celle-qui-sait-9791036000911/">Celle qui sait | Éditions L'Atalante (l-atalante.com)</a>). In fact, noosfere is correct.</p>
<p>Then, with noosfere_util, I delete the excess metadata, I select the edition by the web browser for the choice of the volume which sets me the corresponding nsfr_id, I upload the metadata with noosfere DB alone, then I distribute the overloaded information in the editor field...</p>
	<p></p><p>Translated with www.DeepL.com/Translator (free version)</p></body></html>
